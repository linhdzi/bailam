import 'dart:io';
import 'datanew.dart';

class ProductManagement {
  List<Product> products = [];

  void displayMenu() {
    print('\n--- Product Management System ---');
    print('1. Add a new product');
    print('2. Display all products');
    print('3. Exit');
    print('Enter your choice: ');
  }

  void run() {
    while (true) {
      displayMenu();
      String? choice = stdin.readLineSync();

      switch (choice) {
        case '1':
          addProduct();
          break;
        case '2':
          displayProducts();
          break;
        case '3':
          print('Exiting the program. Goodbye!');
          return;
        default:
          print('Invalid choice. Please try again.');
      }
    }
  }

  void addProduct() {
    print('\nEnter product details:');
    print('ID: ');
    int id = int.parse(stdin.readLineSync()!);
    print('Name: ');
    String name = stdin.readLineSync()!;
    print('Price: ');
    int price = int.parse(stdin.readLineSync()!);
    print('Quantity: ');
    double quantity = double.parse(stdin.readLineSync()!);

    Product newProduct = Product(id, name, price, quantity);
    products.add(newProduct);
    print('Product added successfully!');
  }

  void displayProducts() {
    if (products.isEmpty) {
      print('\nNo products to display.');
    } else {
      print('\nProduct List:');
      for (var product in products) {
        print('ID: ${product.id}, Name: ${product.name}, Price: ${product.price}, Quantity: ${product.quantity}');
      }
    }
  }
}

void main() {
  ProductManagement productManagement = ProductManagement();
  productManagement.run();
}